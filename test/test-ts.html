<!doctype html>
<link rel="stylesheet" type="text/css" href="../node_modules/mocha/mocha.css"/>
<script src="../node_modules/mocha/mocha.js"></script>
<script type="importmap">
{
  "imports": {
    "dep": "/test/fixtures/test.ts"
  }
}
</script>
<script type="esms-options">
{
  "polyfillEnable": ["typescript", "css-modules"]
}
</script>
<script type="module" src="../dist/es-module-shims.debug.js"></script>
<script type="module" src="/test/fixtures/test.ts"></script>
<script type="module" noshim>
  import { runMochaTests } from "./runMochaTests.js";
  // if Wasm compile on 4KB limit is enforced, skip this test
  if (typeof importShim === 'undefined') {
    console.log('SKIPPING TESTS DUE TO 4KB WASM LIMIT FAILURE');
    fetch('/done', { method: 'POST' });
  } else {
    runMochaTests('typescript');
  }
</script>

<!-- TODO: support this? -->
<script type="application/typescript">
  type test = 'hi' | boolean;
  window.inlineTypescript as test = true;
</script>

<div id="mocha"></div>
